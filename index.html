<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Year-End Letter Builder</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: row;
      height: 100vh;
    }

    .left, .right {
      padding: 20px;
      box-sizing: border-box;
    }

    .left {
      flex: 1;
      overflow-y: auto;
      background-color: #f9f9f9;
    }

    .right {
      flex: 1;
      background-color: #fff;
      border-left: 1px solid #ddd;
      overflow-y: auto;
      position: sticky;
      top: 0;
      height: 100vh;
    }

    h1, h2 {
      margin-top: 0;
    }

    .button {
      padding: 6px 10px;
      margin: 4px;
      border: 1px solid #ccc;
      border-radius: 6px;
      background: #f0f0f0;
      cursor: pointer;
    }

    .button.selected {
      background-color: #007aff;
      color: white;
      border-color: #007aff;
    }

    .section {
      margin-bottom: 20px;
    }

    .section h2 {
      cursor: pointer;
      display: flex;
      align-items: center;
    }

    .section-content {
      display: none;
      margin-top: 10px;
    }

    .section.open .section-content {
      display: block;
    }

    label, select, input, textarea {
      display: block;
      width: 100%;
      margin-bottom: 12px;
      font-size: 1rem;
    }

    textarea {
      height: 100px;
    }

    #output {
      white-space: pre-wrap;
      font-size: 1rem;
      padding: 20px;
    }

    @media (max-width: 768px) {
      body {
        flex-direction: column;
      }

      .right {
        position: static;
        height: auto;
        border-left: none;
        border-top: 1px solid #ddd;
      }
    }
  </style>
</head>
<body>
  <div class="left">
    <h1>Year-End Letter Builder</h1>

    <label>Student Name:
      <input type="text" id="studentName" placeholder="Enter student name" />
    </label>

    <label>Pronouns:
      <select id="pronouns">
        <option value="she">She/Her</option>
        <option value="he">He/Him</option>
        <option value="they">They/Them</option>
      </select>
    </label>

    <!-- Sections will be inserted here -->
    <div id="sections"></div>

    <div class="section">
      <h2>‚úçÔ∏è Personal Anecdote</h2>
      <label for="anecdotePrompt">Prompt:</label>
      <select id="anecdotePrompt">
        <option value="Describe a moment that stood out this year‚Äîsomething positive, memorable, or unique.">
          Describe a moment that stood out this year‚Äîsomething positive, memorable, or unique.
        </option>
        <option value="Share a breakthrough or milestone moment during therapy.">
          Share a breakthrough or milestone moment during therapy.
        </option>
        <option value="Describe something {StudentName} said or did that surprised you.">
          Describe something {StudentName} said or did that surprised you.
        </option>
        <option value="Write about a time {StudentName} made someone laugh or smile.">
          Write about a time {StudentName} made someone laugh or smile.
        </option>
        <option value="Reflect on a challenge {StudentName} overcame this year.">
          Reflect on a challenge {StudentName} overcame this year.
        </option>
      </select>
      <textarea id="anecdoteText" placeholder="Write your personal reflection here..."></textarea>
    </div>
  </div>

  <div class="right">
    <h2>üìÑ Live Preview</h2>
    <div id="output">Your note will appear here...</div>
  </div>

  <script>
    const pronounMap = {
      she: { sub: "she", obj: "her", poss: "her", refl: "herself" },
      he: { sub: "he", obj: "him", poss: "his", refl: "himself" },
      they: { sub: "they", obj: "them", poss: "their", refl: "themself" },
    };

    const categories = [
  {
    title: "Opening Statements",
    type: "sentence",
    statements: [
      "It‚Äôs been such a joy getting to know {StudentName} this year.",
      "I‚Äôve truly enjoyed spending time with {StudentName} in speech sessions.",
      "This year, {StudentName} has brought unique energy and presence to our time together.",
      "Every session with {StudentName} has been a highlight in my week.",
      "From the very beginning, {StudentName} approached therapy with an open mind and heart.",
      "{StudentName} has shown remarkable growth throughout our time this year.",
      "I‚Äôve had the privilege of watching {StudentName} grow more confident with every passing month.",
      "{StudentName} quickly became a thoughtful and fun participant in speech.",
      "I have appreciated {StudentName}‚Äôs curiosity and willingness to try new strategies.",
      "Working with {StudentName} has been equal parts rewarding and inspiring.",
      "It has been a pleasure supporting {StudentName} on their communication journey.",
      "{StudentName} has made every session meaningful with their presence and effort.",
      "I‚Äôve really valued the time I‚Äôve spent with {StudentName} this year.",
      "{StudentName} approached therapy with consistency, care, and determination.",
      "I‚Äôve had the chance to see so many sides of {StudentName}‚Äîfunny, thoughtful, determined.",
      "{StudentName} has added color and brightness to our work together.",
      "Our sessions were always better with {StudentName} in them.",
      "I‚Äôm grateful for the chance to support {StudentName} this school year.",
      "This year was filled with small wins and big smiles, thanks to {StudentName}.",
      "{StudentName} came to each session ready to participate and ready to grow.",
      "Watching {StudentName} find their voice this year has been incredibly special."
    ]
  },
  {
    title: "Strengths & Positive Attributes",
    type: "sentence",
    statements: [
      "{StudentName} brings a natural kindness that helps create a positive environment.",
      "{StudentName} is quick to laugh, and that joy is often shared with others in the room.",
      "{StudentName} shows perseverance even when tasks feel challenging.",
      "{StudentName} listens closely and considers new ideas thoughtfully.",
      "{StudentName} has a steady sense of curiosity and a growing confidence to explore.",
      "{StudentName} often takes pride in their progress, which fuels continued effort.",
      "{StudentName} is eager to connect and communicate in ways that feel authentic.",
      "{StudentName} responds well to encouragement and is learning to advocate for {himself/herself/themself}.",
      "{StudentName} demonstrates quiet leadership, often by modeling focus and cooperation.",
      "{StudentName} has a spark of creativity that shines through in conversations and activities.",
      "{StudentName} approaches new challenges with a can-do attitude.",
      "{StudentName} is reflective and often self-monitors their own progress with growing awareness.",
      "{StudentName} brings a calm presence that helps others feel at ease.",
      "{StudentName} collaborates well in both structured and flexible settings.",
      "{StudentName} is tuned in to how others feel and often offers kindness without prompting.",
      "{StudentName} expresses ideas with color, detail, and a strong personal style.",
      "{StudentName} takes initiative and is beginning to guide their own learning process.",
      "{StudentName} shows patience and empathy during peer interactions.",
      "{StudentName} is highly observant, often noticing subtle cues and responding with care.",
      "{StudentName} can shift between silly and serious in a way that shows emotional maturity.",
      "{StudentName}'s personality shines through their communication in playful, thoughtful ways."
    ]
  },
  {
    title: "Speech & Language Progress",
    type: "list",
    statements: [
      "{StudentName} has improved overall intelligibility by consistently producing target sounds.",
      "{StudentName} now self-corrects sound errors with minimal prompting.",
      "{StudentName} demonstrates increased awareness of speech production.",
      "{StudentName} is using more complex sentence structures to express ideas.",
      "{StudentName} has expanded their vocabulary and applies new words in conversation.",
      "{StudentName} follows multistep directions more independently and with greater accuracy.",
      "{StudentName} understands and uses spatial and temporal concepts with increased consistency.",
      "{StudentName} initiates conversation and asks relevant questions during structured activities.",
      "{StudentName} is better able to maintain a topic across conversational turns.",
      "{StudentName} identifies and repairs communication breakdowns more effectively.",
      "{StudentName} demonstrates growing confidence when speaking in front of peers.",
      "{StudentName} participates in group discussions with clearer articulation and purpose.",
      "{StudentName} uses descriptive language to add detail to stories and explanations.",
      "{StudentName} understands a wider range of figurative language and idioms.",
      "{StudentName} uses visual supports as needed but increasingly relies on verbal cues.",
      "{StudentName} applies strategies such as repeating or rephrasing to clarify ideas.",
      "{StudentName} understands and uses past, present, and future tense with more accuracy.",
      "{StudentName} uses AAC (or other supports) with improved fluency and intent.",
      "{StudentName} is learning to advocate for communication needs during academic tasks.",
      "{StudentName} applies speech and language skills across different settings with greater ease.",
      "{StudentName} celebrates communication successes and takes pride in progress."
    ]
  },
  {
    title: "Transition Suggestions",
    type: "sentence",
    statements: [
      "Providing consistent routines and visual schedules will support {StudentName}'s adjustment to new environments.",
      "Encouraging peer collaboration through structured social opportunities will benefit {StudentName}'s confidence.",
      "{StudentName} will thrive with predictable transitions and clear expectations in the classroom.",
      "Continued modeling and reinforcement of self-advocacy skills will help {StudentName} speak up for their needs.",
      "Access to calming strategies or breaks as needed will help {StudentName} stay regulated during busy school days.",
      "{StudentName} may benefit from adult check-ins at the start and end of the day to build predictability.",
      "Middle school routines that allow for repetition and previewing of tasks will help build independence.",
      "Offering structured opportunities to practice conversation skills in small groups can support social growth.",
      "Continued collaboration between home and school teams will be important to ensure {StudentName}'s success.",
      "Pairing {StudentName} with a supportive peer during unstructured times may foster connection and confidence.",
      "Giving {StudentName} space to explore interests in creative electives may open new avenues for communication.",
      "Maintaining access to visual or written cues will ease cognitive load as academic demands increase.",
      "Reinforcing routines for organizing materials and assignments will support executive functioning.",
      "Explicit instruction in navigating new social environments will benefit {StudentName}'s peer interactions.",
      "Encouraging {StudentName} to reflect on their own progress will support a sense of agency and pride.",
      "Providing advance notice before changes in routine can help {StudentName} feel more secure.",
      "{StudentName} will benefit from familiar adult support while building new connections in middle school.",
      "Continuing speech services with targeted goals will support ongoing growth in communication.",
      "Encouraging participation in student-led or small-group projects will help {StudentName} build community.",
      "Supporting {StudentName} in generalizing learned skills across classes will help ensure continuity.",
      "Helping {StudentName} identify safe adults and calm spaces in the new building can promote emotional safety."
    ]
  },
  {
    title: "Closing Statements",
    type: "sentence",
    statements: [
      "I‚Äôm excited to see what {StudentName} accomplishes next.",
      "Thank you for your support and collaboration throughout the year.",
      "I feel lucky to have been a part of {StudentName}‚Äôs growth this year.",
      "With continued encouragement and structure, {StudentName} is well-prepared for what‚Äôs ahead.",
      "I have no doubt that {StudentName} will continue to thrive with the right support.",
      "It‚Äôs been a joy to witness {StudentName}‚Äôs progress and confidence bloom.",
      "I‚Äôm proud of how far {StudentName} has come and eager to see where they go next.",
      "Middle school will bring new opportunities‚Äîand I trust {StudentName} will rise to the occasion.",
      "I‚Äôll miss working with {StudentName}, but I‚Äôm confident they‚Äôll keep shining.",
      "Thank you for sharing {StudentName} with me this year‚Äîit‚Äôs made a real impact.",
      "I‚Äôm hopeful that {StudentName} enters the next chapter with excitement and a sense of belonging.",
      "I know {StudentName} will continue to grow in wonderful ways with the right supports in place.",
      "It‚Äôs always bittersweet to say goodbye, but I leave this year proud of the journey we shared.",
      "Please don‚Äôt hesitate to reach out if there‚Äôs anything I can do to support the transition.",
      "{StudentName} has left a lasting impression‚Äîand I believe they‚Äôll continue to do so.",
      "I‚Äôm cheering for {StudentName} as they take this next big step.",
      "The foundation we built together this year will support future success.",
      "I‚Äôm hopeful {StudentName} enters middle school feeling prepared, proud, and excited.",
      "This isn‚Äôt goodbye‚Äîit‚Äôs a celebration of all that {StudentName} has achieved.",
      "{StudentName} leaves this year with skills, confidence, and a story worth telling.",
      "Here‚Äôs to the next adventure‚Äî{StudentName} is ready."
    ]
  }
];

    function init() {
      const container = document.getElementById('sections');
      categories.forEach((cat, i) => {
        const section = document.createElement('div');
        section.classList.add('section');
        section.dataset.index = i;

        const header = document.createElement('h2');
        header.textContent = `‚ñ∏ ${cat.title}`;
        header.addEventListener('click', () => {
          section.classList.toggle('open');
          header.textContent = section.classList.contains('open') ? `‚ñº ${cat.title}` : `‚ñ∏ ${cat.title}`;
        });

        const content = document.createElement('div');
        content.classList.add('section-content');

        cat.statements.forEach((text, j) => {
          const btn = document.createElement('button');
          btn.textContent = text;
          btn.className = 'button';
          btn.addEventListener('click', () => {
            btn.classList.toggle('selected');
            updatePreview();
          });
          content.appendChild(btn);
        });

        section.appendChild(header);
        section.appendChild(content);
        container.appendChild(section);
      });
    }

    function updatePreview() {
      const name = document.getElementById("studentName").value.trim() || "{StudentName}";
      const p = pronounMap[document.getElementById("pronouns").value];
      let letter = "";

      categories.forEach((cat, i) => {
        const section = document.querySelector(`.section[data-index='${i}']`);
        const selected = [...section.querySelectorAll('.button.selected')].map(btn => btn.textContent);
        if (!selected.length) return;
        if (cat.type === 'list') {
          letter += selected.map(s => `‚Ä¢ ${s}`).join("\n") + "\n\n";
        } else {
          letter += selected.join(" ") + "\n\n";
        }
      });

      const anecdote = document.getElementById('anecdoteText').value.trim();
      if (anecdote) {
        letter += anecdote + "\n\n";
      }

      letter = letter
        .replace(/{StudentName}/g, name)
        .replace(/{he\/she\/they}/g, p.sub)
        .replace(/{him\/her\/them}/g, p.obj)
        .replace(/{his\/her\/their}/g, p.poss)
        .replace(/{himself\/herself\/themself}/g, p.refl);

      document.getElementById("output").textContent = letter.trim();
    }

    document.getElementById("studentName").addEventListener("input", updatePreview);
    document.getElementById("pronouns").addEventListener("change", updatePreview);
    document.getElementById("anecdoteText").addEventListener("input", updatePreview);
    document.getElementById("anecdotePrompt").addEventListener("change", e => {
      document.getElementById("anecdoteText").placeholder = e.target.value;
    });

    init();
  </script>
</body>
</html>