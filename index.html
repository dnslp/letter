<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Year-End Note Builder</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      max-width: 600px;
      margin: 40px auto;
      padding: 0 20px;
      color: #333;
    }
    h1 {
      text-align: center;
      margin-bottom: 24px;
    }
    h2 {
      margin-top: 32px;
      margin-bottom: 8px;
      font-size: 1.1rem;
    }
    .button {
      display: inline-block;
      padding: 8px 12px;
      margin: 4px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background: #f5f5f7;
      cursor: pointer;
      transition: background 0.2s;
      font-size: 0.9rem;
    }
    .button.selected {
      background: #007aff;
      color: #fff;
      border-color: #007aff;
    }
    #generate {
      display: block;
      width: 100%;
      margin: 24px 0;
      padding: 12px;
      background: #007aff;
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
    }
    #output {
      white-space: pre-wrap;
      background: #f5f5f7;
      padding: 16px;
      border-radius: 8px;
      border: 1px solid #e0e0e0;
      font-size: 0.95rem;
    }
    label {
      font-size: 0.95rem;
    }
    input, select {
      width: 100%;
      padding: 8px;
      margin-top: 4px;
      margin-bottom: 16px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 0.95rem;
    }
  </style>
</head>
<body>
  <h1>Year-End Note Builder</h1>

  <label>
    Student Name:
    <input type="text" id="studentName" placeholder="Enter student name">
  </label>

  <label>
    Pronouns:
    <select id="pronouns">
      <option value="she">She/Her</option>
      <option value="he">He/Him</option>
      <option value="they">They/Them</option>
    </select>
  </label>

  <div id="sections"></div>

  <button id="generate">Generate Note</button>

  <div id="output"></div>

  <script>
    const categories = [
      {
        title: 'Opening Statements',
        type: 'sentence',
        statements: [
          "It has been a pleasure working with {StudentName} this year.",
          "{StudentName} has made wonderful progress this year in speech therapy.",
          "Working with {StudentName} has truly been rewarding this school year."
        ]
      },
      {
        title: 'Strengths & Positive Attributes',
        type: 'sentence',
        statements: [
          "{StudentName} is consistently motivated and eager to participate.",
          "{StudentName} demonstrates remarkable resilience when facing challenges.",
          "{StudentName} actively engages in sessions and shows great enthusiasm."
        ]
      },
      {
        title: 'Speech & Language Progress',
        type: 'list',
        statements: [
          "{StudentName} has made significant strides in articulation skills, especially with challenging sounds.",
          "{StudentName} now consistently follows multi-step directions with greater independence.",
          "{StudentName}'s expressive vocabulary has expanded noticeably this year."
        ]
      },
      {
        title: 'Personal Anecdote',
        type: 'sentence',
        statements: [
          "I fondly remember when {StudentName} confidently tried a new word during our session and couldn't stop smiling.",
          "One memorable moment was when {StudentName} used {his/her/their} new phrase to greet a classmate unprompted.",
          "{StudentName}'s excitement while sharing stories about {his/her/their} weekend was a highlight of our sessions."
        ]
      },
      {
        title: 'Transition Suggestions',
        type: 'sentence',
        statements: [
          "Providing clear, routine-based instructions in middle school will help {StudentName} feel secure.",
          "Encouraging peer interactions through structured group activities would benefit {StudentName}'s transition.",
          "Continued support with visual cues will ease the transition to middle school expectations."
        ]
      },
      {
        title: 'Closing Statements',
        type: 'sentence',
        statements: [
          "I am confident {StudentName} will achieve continued success in middle school.",
          "Thank you for your continued support and collaboration this year.",
          "Wishing {StudentName} all the best in the exciting transition ahead."
        ]
      }
    ];

    const pronounMap = {
      she:  { sub: 'she',  obj: 'her',  poss: 'her',    refl: 'herself' },
      he:   { sub: 'he',   obj: 'him',  poss: 'his',    refl: 'himself' },
      they: { sub: 'they', obj: 'them', poss: 'their',  refl: 'themself' }
    };

    function init() {
      const container = document.getElementById('sections');
      categories.forEach((cat, i) => {
        const section = document.createElement('div');
        section.innerHTML = `<h2>${cat.title}</h2>`;
        cat.statements.forEach((text, j) => {
          const btn = document.createElement('button');
          btn.textContent = text;
          btn.className = 'button';
          btn.onclick = () => btn.classList.toggle('selected');
          btn.dataset.category = i;
          btn.dataset.index = j;
          section.appendChild(btn);
        });
        container.appendChild(section);
      });
    }

    function generate() {
      const name = document.getElementById('studentName').value.trim() || '{StudentName}';
      const pronSel = document.getElementById('pronouns').value;
      const p = pronounMap[pronSel];
      let note = '';
      categories.forEach((cat, idx) => {
        const selectedBtns = document.querySelectorAll(`button.selected[data-category="${idx}"]`);
        if (!selectedBtns.length) return;
        let texts = Array.from(selectedBtns).map(btn => btn.textContent);
        texts = texts.map(str =>
          str.replace(/{StudentName}/g, name)
             .replace(/{he\/she\/they}/g, p.sub)
             .replace(/{him\/her\/them}/g, p.obj)
             .replace(/{his\/her\/their}/g, p.poss)
             .replace(/{himself\/herself\/themself}/g, p.refl)
        );
        if (cat.type === 'list') {
          note += texts.map(t => 'â€¢ ' + t).join('\n') + '\n';
        } else {
          note += texts.join(' ') + '\n\n';
        }
      });
      document.getElementById('output').textContent = note.trim();
    }

    document.getElementById('generate').addEventListener('click', generate);
    init();
  </script>
</body>
</html>
